{"version":3,"sources":["./src/app/theme/utility/day-end/counter-work-day-end/counter-work-day-end-routing.module.ts","./src/app/theme/utility/day-end/counter-work-day-end/counter-work-day-end.component.ts","./src/app/theme/utility/day-end/counter-work-day-end/counter-work-day-end.component.html","./src/app/theme/utility/day-end/counter-work-day-end/counter-work-day-end.module.ts"],"names":[],"mappings":"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","file":"counter-work-day-end-counter-work-day-end-module.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {RouterModule, Routes} from '@angular/router';\nimport { CounterWorkDayEndComponent } from './counter-work-day-end.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CounterWorkDayEndComponent,\n    data: {\n      title: 'Counter Work Day End',\n      icon: 'icon-home',\n      caption: 'lorem ipsum dolor sit amet, consectetur adipisicing elit',\n      status: true\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CounterWorkDayEndRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport Swal from 'sweetalert2';\nimport { DayEndService } from '../day-end.service';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-counter-work-day-end',\n  templateUrl: './counter-work-day-end.component.html',\n  styleUrls: ['./counter-work-day-end.component.scss']\n})\nexport class CounterWorkDayEndComponent implements OnInit {\n  dtExportButtonOptions: any = {};\n  ngdate: any;\n  systemInfo: any;\n  constructor(private _services: DayEndService) { }\n\n  ngOnInit(): void {\n    this._services.getSysparaDetails().subscribe(data => {\n      this.systemInfo = data[0];\n      console.log(this.systemInfo);\n      this.ngdate = moment(this.systemInfo.CURRENT_DATE, 'DD/MM/YYYY').format('YYYY-MM-DD');\n    }, err => {\n      console.log(err);\n    })\n  }\n\n  DayEnd() {\n    //get login details\n    let user = localStorage.getItem('user');\n    //  let current_date = this.ngdate;\n    Swal.fire({\n      title: 'Are you sure?',\n      text: \"Do you want day handover to Admin.\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#229954',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, Day End Handover!'\n    }).then((result) => {\n      if (result.isConfirmed) {\n        let user = JSON.parse(localStorage.getItem('user'));        \n        let obj = {\n          date: this.ngdate,\n          branch_id: user.branchId,\n          user_id: user.id\n        }\n        //check Is valid today all transaction \n        this._services.dayEndHandoverProcess(obj).subscribe(data => {\n          this._services.dayHandOver(obj).subscribe(data => {\n            Swal.fire('Success', 'Day End Handovered On ' + this.systemInfo.CURRENT_DATE + ' Successfully!', 'success');\n          }, err => {\n            if (err.error.statusCode == 400) {\n              Swal.fire('Cancelled', err.error.message, 'error');\n            }\n          })\n        }, err => {\n          if (err.error.statusCode == 400) {\n            Swal.fire('Cancelled', err.error.message, 'error');\n          }\n        })\n      } else if (\n        result.dismiss === Swal.DismissReason.cancel\n      ) {\n        Swal.fire(\n          'Cancelled',\n          'Your Action is revert',\n          'error'\n        )\n      }\n    })\n  }\n}\n","<!-- Day End -->\n<div class=\"row\">\n    <div class=\"col-12\">\n        <div class=\"card\">\n            <div class=\"card-header\">\n                <h5>Day End</h5>\n            </div>\n            <form class=\"form-material\" action=\"javascript:\">\n                <div class=\"card-block\">\n                    <div class=\"row\">\n                        <div class=\"col-sm-2\">\n                            <div class=\"form-inline\">\n                                <div class=\"form-group\">\n                                    <div class=\"input-group\">\n                                        <input type=\"date\" class=\"form-control\" name=\"ngdate\" [(ngModel)]=\"ngdate\" disabled>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"col-sm\">\n                            <button class=\"btn btn-primary ripple light\" (click)=\"DayEnd()\">Day End</button>\n                        </div>\n                    </div>\n                </div>\n            </form>\n           \n        </div>\n    </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CounterWorkDayEndComponent } from './counter-work-day-end.component';\nimport { CounterWorkDayEndRoutingModule } from './counter-work-day-end-routing.module';\nimport {DataTablesModule} from 'angular-datatables';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { UserAuthInterceptor } from 'src/app/user-auth.interceptor';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    CounterWorkDayEndRoutingModule,\n    DataTablesModule,\n    FormsModule\n \n  ],\n  declarations: [ CounterWorkDayEndComponent],\n  providers:[{\n    provide: HTTP_INTERCEPTORS,\n    useClass: UserAuthInterceptor,\n    multi: true\n  },]\n})\nexport class CounterWorkDayEndModule { }\n"],"sourceRoot":"webpack:///"}