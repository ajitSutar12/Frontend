<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">

                <h5>{{'master.Other_View.Interest_Paid_History' | translate}}</h5>
                <h6 style="float: right; font-size: 12px; color: black;" class="requiredlable">
                    {{'master.Action.F1' | translate}} (<sub class="required"> * </sub>) {{'master.Action.F2' | translate}}
                </h6>
            </div>
            <form [formGroup]="angForm">
                <div class="card-block">
                    <div class="row">
                        <div class="col-sm-12 col-md-2"> <label for="BRANCH_CODE">{{'master.Other_View.Branch' | translate}}<sub
                                    class="required">*</sub></label>
                        </div>
                        <div class="col-sm-12 col-md-3">
                            <div class="form-group form-primary form-static-label">
                                <span class="border-lable-flt">
                                    <ng-select id="BRANCH_CODE" bindValue="value" [(ngModel)]="ngBranchCode"
                                        formControlName="BRANCH_CODE" bindLabel="label" title="Compulsory Selection"
                                        (change)="getBranch()" [ngClass]="{'form-submitted': formSubmitted}"
                                        placeholder="{{'master.Other_View.Branch' | translate}}">
                                        <ng-option *ngFor="let values of branch_code" [value]="values">
                                            {{values.label}}</ng-option>
                                    </ng-select>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['BRANCH_CODE'].invalid && (angForm.controls['BRANCH_CODE'].dirty || angForm.controls['BRANCH_CODE'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['BRANCH_CODE'].errors?.required">
                                    <!-- This field is required. -->{{'master.Validation.Val1' | translate}}
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12 col-md-2"> <label for="Scheme">{{'master.Other_View.Scheme' | translate}}<sub class="required">*</sub></label>
                        </div>
                        <div class="col-sm-12 col-md-4">
                            <div class="form-group form-primary form-static-label">
                                <span class="border-lable-flt">
                                    <ng-select id="Scheme" formControlName="Scheme" placeholder="{{'master.Other_View.Scheme' | translate}}"
                                        bindValue="value" bindLabel="label" [(ngModel)]="schemeCode"
                                        (change)="getscheme($event)">
                                        <ng-option *ngFor="let values of scheme" [value]="values"> {{values.id}}
                                            {{values.label}} </ng-option>
                                    </ng-select>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['Scheme'].invalid && (angForm.controls['Scheme'].dirty || angForm.controls['Scheme'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['Scheme'].errors?.required">
                                    <!-- This field is required. -->{{'master.Validation.Val1' | translate}}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12 col-md-2"> <label for="Account Number">{{'master.Other_View.Account_Number' | translate}}<sub
                                    class="required">*</sub></label></div>
                        <div class="col-sm-12 col-md-3">
                            <div class="form-group form-primary form-static-label">
                                <span class="border-lable-flt">
                                    <ng-select id="AccountNumber" formControlName="AccountNumber" bindValue="bankacno"
                                        [virtualScroll]="true" bindLabel="label" [(ngModel)]="accno"
                                        (change)="getAccountDeatils($event);">
                                        <ng-option *ngFor="let values of Acc_No" [value]="values">{{values.label}}
                                            {{values.name}}</ng-option>
                                    </ng-select>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AccountNumber'].invalid && (angForm.controls['AccountNumber'].dirty || angForm.controls['AccountNumber'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['AccountNumber'].errors?.required">
                                    <!-- This field is required. -->{{'master.Validation.Val1' | translate}}
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-12 col-md-2"> <label for="Till Date">{{'master.Other_View.Till_Date' | translate}}<sub
                                    class="required">*</sub></label></div>
                        <div class="col-sm-12 col-md-3">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="text" appButton minlength="10" maxlength="10"
                                     placeholder="dd/mm/yyyy" name="Till_Date" id="Till_Date"
                                        class="form-control" [(ngModel)]="tilldate" [bsValue]="bsValue"
                                        [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY' }" formControlName="Till_Date"
                                        (keypress)="($event.charCode >= 48 && $event.charCode < 58) || $event.charCode == 47"
                                        (bsValueChange)="getTable()" bsDatepicker>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['Till_Date'].invalid && (angForm.controls['Till_Date'].dirty || angForm.controls['Till_Date'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['Till_Date'].errors?.required">
                                    <!-- This field is required. -->{{'master.Validation.Val1' | translate}}
                                </div>
                            </div>
                        </div>
                        <div class="col-sm col-md" *ngIf="showView">
                            <button class="btn btn-outline-primary btn-sm" (click)="getTable()"
                                [disabled]="angForm.invalid">{{'master.Action.View' | translate}}</button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-4 col-md-4">
                            <div><label style="color: #4374ca">{{'master.Other_View.Account_Opening_Date' | translate}}:{{accountOpeningDate}}</label></div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-sm-12">
        <div class="col-12">
            <div class="table-responsive">
                <table class="table">
                    <thead>
                        <tr>
                            <td class="td_center">{{'master.Other_View.Interest_Date' | translate}}</td>
                            <td class="td_center">{{'master.Other_View.Interest_Upto_Date' | translate}}</td>
                            <td class="td_center">{{'master.Other_View.Transaction_Type' | translate}}</td>
                            <td class="td_center">{{'master.Other_View.Debit_Interest_Amount' | translate}}</td>
                            <td class="td_center">{{'master.Other_View.Credit_Interest_Amount' | translate}}</td>
                            <!-- <td class="td_center">Total Interest</td> -->
                            <td class="td_center">{{'master.Other_View.Officer_ID' | translate}}</td>
                            <td class="td_center">{{'master.Other_View.Payable_Interest' | translate}}</td>
                        </tr>
                    </thead>
                    <tbody *ngIf="tableArr?.length != 0 " >
                        <tr *ngFor="let data of tableArr; 
                        let indexOfelement = index">
                            <td>{{data.TRAN_DATE}}</td>
                            <td>{{data.INTEREST_DATE}}</td>
                            <td *ngIf="data.TRAN_TYPE== 'CS'">Cash</td>
                            <td *ngIf="data.TRAN_TYPE== 'TR'">Transfer</td>
                            <td class="td_right">{{data.TRAN_DRCR=='D'?data.INTEREST_AMOUNT:'---'}}</td>
                            <td class="td_right">{{data.TRAN_DRCR=='C'?data.INTEREST_AMOUNT:'---'}}</td>
                            <td>{{data.OFFICER_CODE}}</td>
                            <td class="td_right">{{data.RECPAY_INT_AMOUNT}}</td>
                        </tr>
                        <tr style="color: green;" *ngIf="tableArr?.length != 0">
                            <td></td>
                            <td></td>
                            <td style=" font-size: 13px;"><strong> {{'master.Other_View.Total' | translate}} </strong></td>
                            <td style=" font-size: 13px;" class="td_right">{{totalDebitInt}}</td>
                            <td style=" font-size: 13px;" class="td_right">{{totalCreditInt}}</td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                    <tbody *ngIf="tableArr?.length == 0">
                        <tr>
                            <td colspan="6" class="no-data-available">{{'master.Action.No_Data' | translate}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>