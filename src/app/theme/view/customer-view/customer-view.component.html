<!--Customer View  -->
<div style="width: 270px;height: 335px;z-index: 1000;
    position: absolute;margin-top: 14%;margin-left:51%" *ngIf="PreviewDiv">
  <img [src]="previewImg" width="400" height="300">
</div>
<form action="javascript:" [formGroup]="angForm" novalidate #myform="ngForm">
  <div class="row">
    <div class="col-md-9">
      <div class="row">
        <div class="col-md-12">
          <div class="card">
            <div class="card-header">
              <h5>Customer View</h5>
              <h6 style="float: right; font-size: 12px; color: black;" class="requiredlable">
                Fields marked with (<sub class="required"> * </sub>) are mandatory
              </h6>
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-sm-12 col-md-2"> <label for="AC_CUSTID">Customer Id<sub class="required">*</sub></label>
                </div>
                <div class="col-sm col-md">
                  <div class="form-group form-primary form-static-label">
                    <span class="border-lable-flt">
                      <ng-select [(ngModel)]="ngcustomer" id="AC_CUSTID" bindValue="value"
                        (change)="getCustomer($event)" formControlName="AC_CUSTID"
                        [ngClass]="{'form-submitted': formSubmitted}" title="Compulsory Selection" required
                        placeholder="">
                        <ng-option *ngFor="let values of Cust_ID" [value]="values">
                          {{values.label}}</ng-option>
                      </ng-select>
                    </span>
                  </div>
                  <div class="form-group form-primary form-static-label"
                    *ngIf="angForm.controls['AC_CUSTID'].invalid && (angForm.controls['AC_CUSTID'].dirty || angForm.controls['AC_CUSTID'].touched)"
                    class="alert alert-danger">
                    <div *ngIf="angForm.controls['AC_CUSTID'].errors?.required">
                      This field is required.
                    </div>
                  </div>
                </div>
                <!-- </div>
              <div class="row"> -->
                <div class="col-sm col-md"> <label>Number of Accounts:{{noOfAccounts}}</label></div>

              </div>
              <div class="row">
                <div class="col-sm">
                  <div class="checkbox checkbox-primary">
                    <div class="border-checkbox-group border-checkbox-group-primary">
                      <input type="checkbox" class="border-checkbox" id="CLOSED_AC"
                        (change)="displayClosedAccounts($event)" formControlName="CLOSED_AC">
                      <label class="border-checkbox-label" for="CLOSED_AC">Display Closed Accounts</label>
                    </div>
                  </div>
                </div>
                <div class="col-sm-1">
                  <button class="btn btn-danger"></button>
                </div>
                <div class="col-sm-2">
                  <label>Closed Accounts</label>
                </div>
                <div class="col-sm-1">
                  <button class="btn btn-primary"></button>
                </div>
                <div class="col-sm-2">
                  <label>Open Accounts</label>
                </div>
                <div class="col-sm-1">
                  <button class="btn btn-secondary"></button>
                </div>
                <div class="col-sm-2">
                  <label>Lien Accounts</label>
                </div>
              </div>
              <div class="row">
                <div class="col-sm-6">
                  <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover compact"
                      *ngIf="accountsList?.length != 0">
                      <thead>
                        <td style="align-items: center; width: 5px;">View</td>
                        <td style="align-items: center; width: 8px;">Branch</td>
                        <td style="align-items: center; width: 8px;">Scheme</td>
                        <td style="align-items: center; width: 15px;">Account Number</td>
                      </thead>
                      <tbody *ngIf="accountsList?.length != 0">
                        <tr *ngFor="let data of accountsList;
                        let indexOfelement = index">
                          <td style="align-items: center; width: 5px;">
                            <div class="col-sm-2">
                              <span style="font-size: 15px;color: #0f459b; cursor: pointer;" (click)="viewDetails(data)"
                                placement="right" ngbTooltip="Show Details" class="fa fa-fw fa-eye field-icon"></span>
                            </div>
                          </td>
                          <td style="align-items: center; width: 8px;">{{data?.BranchCodeMaster?.CODE}}</td>
                          <td style="align-items: center; width: 8px;">{{data.ACTYPE}}</td>
                          <td style="align-items: center; width: 15px;">{{data.BANKACNO}}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="col-sm-6" *ngIf="showDetails">
                  <div class="row">
                    <div class="solid">
                      <div class="row">
                        <div class="col-sm-12">
                          Opening Date:{{accountDetails.AC_OPDATE}}
                        </div>
                        <div class="col-sm-12">
                          Balance:{{accountDetails.AC_OPDATE}}
                        </div>
                        <div class="col-sm-12"
                          *ngIf="accountDetails.AC_ACNOTYPE=='CC' || accountDetails.AC_ACNOTYPE=='LN' ">
                          Scheme:{{accountDetails.LNCCMaster.S_NAME}}
                        </div>
                        <div class="col-sm-12" *ngIf="accountDetails.AC_ACNOTYPE=='PG' ">
                          Scheme:{{accountDetails.PGMaster.S_NAME}}
                        </div>
                        <div class="col-sm-12" *ngIf="accountDetails.AC_ACNOTYPE=='SH' ">
                          Scheme:{{accountDetails.shareMaster.S_NAME}}
                        </div>
                        <div class="col-sm-12"
                          *ngIf="accountDetails.AC_ACNOTYPE=='TD' || accountDetails.AC_ACNOTYPE=='SB' ||accountDetails.AC_ACNOTYPE=='CA' || accountDetails.AC_ACNOTYPE=='AG' ||accountDetails.AC_ACNOTYPE=='IV' || accountDetails.AC_ACNOTYPE=='GS'  ">
                          Scheme:{{accountDetails.DPMaster.S_NAME}}
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12">
                      <span></span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12">
                      <span></span>
                    </div>
                  </div>
                  <div class="row"
                    *ngIf="accountDetails?.guaranterMaster?.length != 0 && accountDetails?.guaranterMaster !=undefined">
                    <div class="col-sm-12">
                      <span>GUARANTER DETAILS</span>
                    </div>
                    <div class="col-sm">
                      <span></span>
                    </div>
                  </div>
                  <div class="row"
                    *ngIf="accountDetails?.guaranterMaster?.length != 0 && accountDetails?.guaranterMaster !=undefined">
                    <div class="col-12">
                      <div class="table-responsive">
                        <table class=" table table-striped table-bordered table-hover compact">
                          <thead>
                            <td>Customer Id</td>
                            <td>Member no</td>
                            <td>Member Scheme</td>
                            <td>Full Name</td>
                            <td>Expiry Date</td>
                          </thead>
                          <tbody *ngIf="accountDetails?.guaranterMaster?.length != 0">
                            <tr *ngFor="let data of accountDetails?.guaranterMaster; let indexOfelement=index;">
                              <td>{{data.GAC_CUSTID }}
                              </td>
                              <td>{{data.AC_MEMBNO }}</td>
                              <td>{{data.AC_MEMBTYPE }}
                              </td>
                              <td>{{data.AC_NAME }}</td>
                              <td>{{data.EXP_DATE }}</td>
                            </tr>
                          </tbody>
                          <tbody *ngIf="accountDetails?.guaranterMaster?.length == 0">
                            <tr>
                              <td colspan="6" class="no-data-available">
                                No data!
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                  <div class="row"
                    *ngIf="accountDetails?.nomineeDetails?.length != 0 && accountDetails?.nomineeDetails !=undefined">
                    <div class="col-sm-12">
                      <h6>Nominee Accounts Details</h6>
                    </div>
                    <div class="col-sm">
                      <span></span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12">
                      <div class="row">
                        <div class="table-responsive">
                          <table class="table table-striped table-bordered table-hover compact"
                            *ngIf="accountDetails?.nomineeDetails?.length != 0 && accountDetails?.nomineeDetails !=undefined">
                            <thead>
                              <td>Name</td>
                              <td>Relation</td>
                              <td>Age</td>
                              <td>Nomination Date</td>
                              <td>Details</td>
                              <td>City</td>
                              <td>Pin code</td>
                            </thead>
                            <tbody *ngIf="accountDetails.nomineeDetails?.length != 0">
                              <tr *ngFor="let nominee of accountDetails.nomineeDetails;
                        let indexOfelement = index">
                                <td>{{ nominee.AC_NNAME }}</td>
                                <td>{{ nominee.AC_NRELA }}</td>
                                <td class="td_right"
                                  [ngClass]="nominee.AGE === ''  || nominee.AGE == null ? 'td_center' : 'td_right'">
                                  {{nominee.AGE === '' || nominee.AGE ==
                                  null ? '-' : nominee.AGE}}</td>
                                <td class="td_center" [ngClass]="nominee.AC_NDATE === '' ? 'td_center' : 'td_center'">
                                  {{nominee.AC_NDATE === ''? '-' :
                                  nominee.AC_NDATE}}
                                </td>
                                <td class="td_left"
                                  [ngClass]="nominee.AC_NADDR === '' || nominee.AC_NADDR == null ? 'td_center' : 'td_left'">
                                  {{nominee.AC_NADDR === '' ||
                                  nominee.AC_NADDR == null ? '-' :
                                  nominee.AC_NADDR}}
                                </td>
                                <td class="td_left" [ngClass]="nominee.AC_NCTCODE === '' ? 'td_center' : 'td_left'">
                                  {{nominee.AC_NCTCODE === ''? '-' :
                                  nominee.AC_CITYNAME}}
                                </td>
                                <td class="td_center"
                                  [ngClass]="nominee.AC_NPIN === ''|| nominee.AC_NPIN == null ? 'td_center' : 'td_right'">
                                  {{nominee.AC_NPIN === '' ||
                                  nominee.AC_NPIN == null ? '-' :
                                  nominee.AC_NPIN}}
                                </td>
                              </tr>
                            </tbody>
                            <tbody *ngIf="accountDetails.nomineeDetails?.length == 0">
                              <tr>
                                <td colspan="7" class="no-data-available" style="text-align: center;">
                                  No data!
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12">
                      <span></span>
                    </div>
                  </div>
                  <!-- <div class="row">
                    <div class="col-sm-12">
                      <span></span>
                    </div>
                  </div> -->
                  <div class="row"
                    *ngIf="accountDetails?.jointAccounts?.length != 0 && accountDetails?.jointAccounts !=undefined">
                    <div class="col-sm-12">
                      <h6>Joint Accounts Details</h6>
                    </div>
                    <div class="col-sm">
                      <span></span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12">
                      <div class="table-responsive">
                        <table class="table table-striped table-bordered table-hover compact"
                          *ngIf="accountDetails?.jointAccounts?.length != 0 && accountDetails?.jointAccounts !=undefined">
                          <thead>
                            <td style="max-width: 20px">Customer ID</td>
                            <td>Name</td>
                            <td style="max-width: 15px">Operation</td>
                          </thead>
                          <tbody *ngIf="jointAccounts?.length != 0">
                            <tr *ngFor="
                                let data of accountDetails?.jointAccounts;
                                let indexOfelement = index
                              ">
                              <td class="td_right" [ngClass]="
                                  data.JOINT_AC_CUSTID === ''
                                    ? 'td_center'
                                    : 'td_right'
                                ">
                                {{
                                data.JOINT_AC_CUSTID === ""
                                ? "-"
                                : data.JOINT_AC_CUSTID
                                }}
                              </td>
                              <td class="td_left" [ngClass]="
                                  data.JOINT_ACNAME === ''
                                    ? 'td_center'
                                    : 'td_right'
                                ">
                                {{
                                data.JOINT_ACNAME === ""
                                ? "-"
                                : data.JOINT_ACNAME
                                }}
                              </td>
                              <td class="td_left" [ngClass]="
                                  data.OPERATOR === ''
                                    ? 'td_left'
                                    : 'td_right'
                                ">
                                {{
                                data.OPERATOR === ""
                                ? "-"
                                : data.OPERATOR
                                }}
                              </td>
                            </tr>
                          </tbody>
                          <tbody *ngIf="accountDetails?.jointAccounts?.length == 0">
                            <tr>
                              <td class="no-data-available" colspan="4" style="text-align: center">
                                No data!
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-3 col-sm-12 col-xm-12">
      <div class="row">
        <div class="col-md-12">
          <div class="card">
            <div class="card-header">
              Details
            </div>
            <div class="card-body">
              <div class="row">
                <div class="col-md-12">
                  <div class="card">
                    <div class="card-body">
                      <div class="user-avatar-section">
                        <div class="d-flex align-items-center flex-column">
                          <img class="img-fluid rounded mt-3 mb-2" [src]="customerImg" height="110" width="110"
                            (mouseover)="showImage(customerImg)" (mouseout)="hideImage()" alt="User avatar" />
                          <div class="user-info text-center">
                            <h6>{{AC_NAME}}</h6>
                          </div>
                        </div>
                      </div>
                      <div class="user-avatar-section">
                        <div class="d-flex align-items-center flex-column">
                          <img class="img-fluid rounded mt-3 mb-2" [src]="signture" (mouseover)="showImage(signture)"
                            (mouseout)="hideImage()" height="50" width="110" alt="User avatar" />
                        </div>
                      </div>
                      <div class="info-container">
                        <ul class="list-unstyled">
                          <li class="mb-75">
                            <span class="fw-bolder me-25">Status:</span>
                            <span class="badge bg-light-success">Active</span>
                          </li>

                          <li class="mb-75">
                            <span class="fw-bolder me-25">Adhar No:</span>
                            <span>{{adharNo}}</span>
                          </li>
                          <li class="mb-75">
                            <span class="fw-bolder me-25">PAN ID:</span>
                            <span>{{PANNO}}</span>
                          </li>
                          <li class="mb-75">
                            <span class="fw-bolder me-25">Contact:</span>
                            <span>{{contact}}</span>
                          </li>
                          <li class="mb-75">
                            <span class="fw-bolder me-25">Address:</span>
                            <span>{{AC_HONO}} {{AC_WARD}} {{AC_GALLI}} {{AC_AREA}} {{AC_ADDR}} {{AC_PIN}}</span>
                          </li>
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</form>