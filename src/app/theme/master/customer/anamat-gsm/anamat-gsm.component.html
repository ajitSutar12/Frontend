<!-- Anamat / General Sub Master -->
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5>Anamat/General Sub Master</h5>
                <h6 style="float: right;"><sub class="required">* </sub>: Required Fields</h6>
            </div>
            <div class="card-block">
                <form action="javascript:" [formGroup]="angForm" novalidate #myform="ngForm" (ngSubmit)="submit($event)">
                    <div class="row">
                        <div class="col-sm">
                            <div class="form-group form-primary form-static-label">
                                <ng-select [ngClass]="'ng-select'" [options]="scheme" [multiple]="false"
                                    placeholder="Scheme *" required title="Compulsory Selection"
                                    formControlName="AC_TYPE" (selected)="getScheme($event)"
                                    [ngClass]="{'form-submitted': formSubmitted}">
                                </ng-select>
                            </div>
                        </div>
                        <div class="col-sm">
                            <div class="form-group form-primary form-static-label">
                                <ng-select [ngClass]="'ng-select'" [options]="Cust_ID" [multiple]="false"
                                    placeholder="Customer ID *" required title="Compulsory Selection"
                                    formControlName="AC_CUSTID" [(ngModel)]="id" (selected)="getCustomer(id)"
                                    style="width: 90%;" [ngClass]="{'form-submitted': formSubmitted}">
                                    <!-- (focusout)=checkCUST_No() -->
                                </ng-select>
                                <span class="fa fa-fw fa-plus-circle field-icon" id="custicon"
                                    (click)="modalLarge.show()" placement="bottom" ngbTooltip="Add New Customer"></span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AC_CUSTID'].invalid && (angForm.controls['AC_CUSTID'].dirty || angForm.controls['AC_CUSTID'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['AC_CUSTID'].errors?.required">
                                    This field is required
                                </div>
                            </div>
                        </div>
                        <!-- <ng-container *ngIf="showModalStatus"> -->
                        <app-modal-basic #modalLarge [dialogClass]="'modal-xl'">
                            <div class="app-modal-header">
                                <h4 class="modal-title">Customer ID </h4>
                                <button type="button" class="close basic-close" (click)="modalLarge.hide()">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="app-modal-body">
                                <perfect-scrollbar>
                                    <app-customer-id (newCustomerEvent)="addNewCustomer($event)"></app-customer-id>
                                </perfect-scrollbar>
                            </div>

                            <div class="app-modal-footer">
                                <button type="button" class="btn btn-primary ripple light" (ngSubmit)="submit($event)"
                                data-dismiss="modal" >Submit</button>
                                <!-- <button type="button" class="btn btn-primary ripple light"
                                    (click)="modalLarge.hide()">Close</button> -->
                            </div>
                        </app-modal-basic>

                        <div class="col-sm">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="text" name="AC_NO" class="form-control" placeholder=" " id="AC_NO"
                                        value="" pattern="^[0-9]+$" formControlName="AC_NO" disabled>
                                    <label for="AC_NO">Account No</label>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-sm-2">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="text" name="Name" class="form-control" placeholder=" " id="AC_TITLE"
                                        value="" pattern="^[A-Za-z\./ -]+$" formControlName="AC_TITLE" disabled>
                                    <label for="AC_TITLE">Title </label>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AC_TITLE'].invalid && (angForm.controls['AC_TITLE'].dirty || angForm.controls['AC_TITLE'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['AC_TITLE'].errors?.pattern">
                                    Input allowed only A-Z a-z - / . (Space)
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="text" name="Name" class="form-control" placeholder=" " id="AC_NAME"
                                        required="" value="" pattern="^[A-Za-z\./ -]+$" formControlName="AC_NAME"
                                        disabled>
                                    <label for="AC_NAME">Name </label>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AC_NAME'].invalid && (angForm.controls['AC_NAME'].dirty || angForm.controls['AC_NAME'].touched)"
                                class="alert alert-danger">
                                <div
                                    *ngIf="angForm.controls['AC_NAME'].errors?.pattern || angForm.controls['AC_NAME'].errors?.required">
                                    This field is required and Input allowed only A-Z a-z - / . (Space)
                                </div>
                            </div>
                        </div>
                        <div class="col-sm">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="text" name="AC_MEMBTYPE" class="form-control" placeholder=" "
                                        id="AC_MEMBTYPE" value="" pattern="^[0-9]+$" formControlName="AC_MEMBTYPE"
                                        disabled>
                                    <label for="AC_MEMBTYPE">Member Scheme</label>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AC_MEMBTYPE'].invalid && (angForm.controls['AC_MEMBTYPE'].dirty || angForm.controls['AC_MEMBTYPE'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['AC_MEMBTYPE'].errors?.pattern">
                                    Input allowed only 0-9
                                </div>
                            </div>
                        </div>
                        <div class="col-sm">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="text" name="AC_MEMBNO" class="form-control" placeholder=" "
                                        id="AC_MEMBNO" value="" pattern="^[0-9]+$" formControlName="AC_MEMBNO" disabled>
                                    <label for="AC_MEMBNO">Member Number</label>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AC_MEMBNO'].invalid && (angForm.controls['AC_MEMBNO'].dirty || angForm.controls['AC_MEMBNO'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['AC_MEMBNO'].errors?.pattern">
                                    Input allowed only 0-9
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="text" name="AC_HONO" class="form-control" placeholder=" " id="AC_HONO"
                                        value="" pattern="^[A-Za-z\./ -]+$" formControlName="AC_HONO" disabled>
                                    <label for="AC_HONO">House</label>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AC_HONO'].invalid && (angForm.controls['AC_HONO'].dirty || angForm.controls['AC_HONO'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['AC_HONO'].errors?.pattern">
                                    Input allowed only A-Z a-z - / . (Space)
                                </div>
                            </div>
                        </div>
                        <div class="col-sm">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="text" name="AC_WARD" class="form-control" placeholder=" " id="AC_WARD"
                                        value="" pattern="^[A-Za-z\./ -]+$" formControlName="AC_WARD" disabled>
                                    <label for="AC_WARD">Ward</label>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AC_WARD'].invalid && (angForm.controls['AC_WARD'].dirty || angForm.controls['AC_WARD'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['AC_WARD'].errors?.pattern">
                                    Input allowed only A-Z a-z - / . (Space)
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="text" name="AC_TADDR" class="form-control" placeholder=" "
                                        id="AC_TADDR" value="" formControlName="AC_TADDR" disabled>
                                    <label for="AC_TADDR">Detail</label>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AC_TADDR'].invalid && (angForm.controls['AC_TADDR'].dirty || angForm.controls['AC_TADDR'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['AC_TADDR'].errors?.pattern">
                                    Input allowed only A-Z a-z - / . (Space)
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-sm">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="text" name="AC_TGALLI" class="form-control" placeholder=" "
                                        id="AC_TGALLI" value="" pattern="^[A-Za-z\./ -]+$" formControlName="AC_TGALLI"
                                        disabled>
                                    <label for="AC_TGALLI">Galli</label>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AC_TGALLI'].invalid && (angForm.controls['AC_TGALLI'].dirty || angForm.controls['AC_TGALLI'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['AC_TGALLI'].errors?.pattern">
                                    Input allowed only A-Z a-z - / . (Space)
                                </div>
                            </div>
                        </div>

                        <div class="col-sm">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="text" name="AC_CTCODE" class="form-control" placeholder=" "
                                        id="AC_CTCODE" value="" pattern="^[A-Za-z\./ -]+$" formControlName="AC_CTCODE"
                                        disabled>
                                    <label for="AC_CTCODE">City</label>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AC_CTCODE'].invalid && (angForm.controls['AC_CTCODE'].dirty || angForm.controls['AC_CTCODE'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['AC_CTCODE'].errors?.pattern">
                                    Input allowed only A-Z a-z - / . (Space)
                                </div>
                            </div>
                        </div>
                        <div class="col-sm">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="text" name="AC_AREA" class="form-control" placeholder=" " id="AC_AREA"
                                        value="" pattern="^[A-Za-z\./ -]+$" formControlName="AC_AREA" disabled>
                                    <label for="AC_AREA">Area</label>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AC_AREA'].invalid && (angForm.controls['AC_AREA'].dirty || angForm.controls['AC_AREA'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['AC_AREA'].errors?.pattern">
                                    Input allowed only A-Z a-z - / . (Space)
                                </div>
                            </div>
                        </div>
                        <div class="col-sm">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="text" name="AC_PIN" class="form-control" placeholder=" " id="AC_PIN"
                                        value="" pattern="^[0-9]+$" formControlName="AC_PIN" disabled>
                                    <label for="AC_PIN">Pincode</label>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AC_PIN'].invalid && (angForm.controls['AC_PIN'].dirty || angForm.controls['AC_PIN'].touched)"
                                class="alert alert-danger">
                                <div *ngIf="angForm.controls['AC_PIN'].errors?.pattern">
                                    Input allowed only 0-9
                                </div>
                            </div>
                        </div>
                        <div class="col-sm">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="date" name="AC_OPDATE" class="form-control" placeholder=" "
                                        id="AC_OPDATE" max="{{datemax | date:'yyyy-MM-dd'}}" #date
                                        (keyup)="disabledate(date.value)" formControlName="AC_OPDATE"
                                        [ngClass]="{'form-submitted': formSubmitted}">
                                    <label for="AC_OPDATE">Open Date </label>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AC_OPDATE'].invalid && (angForm.controls['AC_OPDATE'].dirty || angForm.controls['AC_OPDATE'].touched)"
                                class="alert alert-danger">
                                <div
                                    *ngIf="angForm.controls['AC_OPDATE'].errors?.pattern || angForm.controls['AC_OPDATE'].errors?.required">
                                    This field is Required .
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="row">
                        <div class="col-sm-2">
                            <div class="border-checkbox-section">
                                <div class="border-checkbox-group border-checkbox-group-primary">
                                    <input class="border-checkbox" type="checkbox" id="AC_IS_RECOVERY" value="checkbox"
                                        formControlName="AC_IS_RECOVERY">

                                    <label class="border-checkbox-label" for="AC_IS_RECOVERY">Recovery</label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-1">
                            <label for="">Opening Balance :</label>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-radio">
                                <div class="radio radio-inline">
                                    <label>

                                        <input type="radio" name="DEBIT" formControlName="DEBIT" value="DEBIT">

                                        <i class="helper"></i>Debit
                                    </label>
                                </div>
                                <div class="radio radio-inline">
                                    <label>

                                        <input type="radio" name="DEBIT" formControlName="DEBIT" value="Credit">

                                        <i class="helper"></i>Credit
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="col-sm-6">
                            <div class="form-group input-group">
                                <span class="border-lable-flt">
                                    <input type="text" name="AC_PARTICULAR" class="form-control" placeholder=" "
                                        id="AC_PARTICULAR" value=""
                                        title="Input allowed only  A-Z a-z 0-9 - / . (Space)"
                                        formControlName="AC_PARTICULAR" [ngClass]="{'form-submitted': formSubmitted}"
                                        required>
                                    <label for="AC_PARTICULAR">Reason<sub class="required">* </sub></label>
                                </span>
                            </div>
                            <div class="form-group form-primary form-static-label"
                                *ngIf="angForm.controls['AC_PARTICULAR'].invalid && (angForm.controls['AC_PARTICULAR'].dirty || angForm.controls['AC_PARTICULAR'].touched)"
                                class="alert alert-danger">
                                <div
                                    *ngIf="angForm.controls['AC_PARTICULAR'].errors?.pattern || angForm.controls['AC_PARTICULAR'].errors?.required">
                                    Input allowed only A-Z a-z - / . (Space)
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="row" style="float: right;">
                            <div class="col-sm">
                                <button type="submit" class="btn btn-primary ripple light" *ngIf="showButton">
                                    Add
                                </button>
                                <button class="btn btn-primary ripple light" (click)="updateData()" *ngIf="updateShow">
                                    Update</button>&nbsp;
                                <button class="btn btn-primary ripple light" (click)="addNewData()" *ngIf="newbtnShow">
                                    Cancel
                                </button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
          
        </div>
    </div>
</div>
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-block">
                <div class="row">
                    <div class="col-sm">
                        <div class="table-responsive">
                            <table datatable [dtOptions]="dtExportButtonOptions" [dtTrigger]="dtTrigger"
                                class="table table-striped table-bordered table-hover compact">
                                <tbody *ngIf="anamat?.length != 0">
                                    <tr *ngFor="let data of anamat">
                                        <td><button class="btn btn-outline-primary btn-sm" id="editbtn"
                                                (click)="editClickHandler(data.id)">Edit</button> &nbsp;
                                            <!-- <button id="delbtn" class="btn btn-outline-primary btn-sm" (click)="delClickHandler(data.id)">Delete</button> -->
                                        </td>

                                        <td>{{ data.AC_ACNOTYPE }}</td>
                                        <td>{{ data.AC_TYPE }}</td>
                                        <td class="td_right" [ngClass]="data.AC_NO === '' ? 'td_center' : 'td_right'">
                                            {{data.AC_NO === ''? '-' : data.AC_NO}}</td>
                                        <td class="td_right"
                                            [ngClass]="data.AC_CUSTID === '' ? 'td_center' : 'td_right'">
                                            {{data.AC_CUSTID === ''? '-' : data.AC_CUSTID}}</td>
                                        <td>{{ data.AC_NAME }}</td>
                                        <td>{{ data.AC_MEMBTYPE }}</td>
                                        <td class="td_right"
                                            [ngClass]="data.AC_MEMBNO === '' ? 'td_center' : 'td_right'">
                                            {{data.AC_MEMBNO === ''? '-' : data.AC_MEMBNO}}</td>
                                        <td
                                            [ngClass]="data.idmaster.custAddress[0].AC_ADDR === '' ? 'td_center' : 'td_left'">
                                            {{ data.idmaster.custAddress[0].AC_ADDR === "" ? "-" :
                                            data.idmaster.custAddress[0].AC_ADDR }}
                                        </td>
                                        <td
                                            [ngClass]="data.idmaster.custAddress[0].city.CITY_NAME === '' ? 'td_center' : 'td_right'">
                                            {{ data.idmaster.custAddress[0].city.CITY_NAME === "" ? "-" :
                                            data.idmaster.custAddress[0].city.CITY_NAME }}
                                        </td>
                                        <td class="td_right"
                                            [ngClass]="data.AC_OPDATE === '' ? 'td_center' : 'td_right'">
                                            {{data.AC_OPDATE === ''? '-' : data.AC_OPDATE}}</td>

                                        <td [ngClass]="data.DEBIT === '' ? 'td_center' : 'td_right'">{{data.DEBIT ===
                                            ''? '-' : data.DEBIT}}</td>
                                    </tr>
                                </tbody>
                                <tbody *ngIf="anamat?.length == 0">
                                    <tr>
                                        <td colspan="6" class="no-data-available">No data!</td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <th></th>
                                        <th><input type="text" class="form-control" placeholder="scheme"
                                                name="AC_ACNOTYPE"></th>
                                        <th><input type="text" class="form-control" placeholder="scheme" name="AC_TYPE">
                                        </th>
                                        <th><input type="text" class="form-control" placeholder="Account no"
                                                name="AC_NO"></th>
                                        <th><input type="text" class="form-control" placeholder="CustomerID"
                                                name="AC_CUSTID"></th>
                                        <th><input type="text" class="form-control" placeholder="name" name="AC_NAME">
                                        </th>
                                        <th><input type="text" class="form-control" placeholder="Member scheme"
                                                name="AC_MEMBTYPE"></th>
                                        <th><input type="text" class="form-control" placeholder="Member no"
                                                name="AC_MEMBNO"></th>
                                        <th><input type="text" class="form-control" placeholder="Detail"
                                                name="AC_TADDR"></th>
                                        <th><input type="text" class="form-control" placeholder="City" name="AC_CTCODE">
                                        </th>
                                        <th><input type="text" class="form-control" placeholder="opening bal. date"
                                                name="AC_OPDATE"></th>
                                        <th><input type="text" class="form-control" placeholder="opening bal"
                                                name="DEBIT"></th>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>