<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h5> General Code Statement</h5>
                <h6 style="float: right; font-size: 12px; color: black;" class="requiredlable">
                    Fields marked with (<sub class="required"> * </sub>) are mandatory
                </h6>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <ul class="tree">
                            <li *ngFor="let item of parentCodeArray">{{item.head_name}}
                                <button class="btn btn-primary"
                                    (click)="addModalWindow(modalLarge);AddnewHead(item.id,item.head_name)"><i
                                        class="fa fa-plus-circle" aria-hidden="true"></i>
                                </button>&nbsp;
                                <button class="btn btn-secondary"
                                    (click)="modalChangeWindow(modalChange);shuffleHead(item.id,item.head_name)"><i
                                        class="fa fa-refresh" aria-hidden="true"></i>
                                </button>

                                <ul>
                                    <li *ngFor="let i of item.child">{{i.head_name}}
                                        <button class="btn btn-primary"
                                            (click)="addModalWindow(modalLarge);AddnewHead(i.id,i.head_name)"><i
                                                class="fa fa-plus-circle" aria-hidden="true"></i></button>&nbsp;
                                        <button class="btn btn-success"
                                            (click)="addModalWindow(modalEdit);EditnewHead(i.id,i.head_name)"><i
                                                class="fa fa-pencil" aria-hidden="true"></i></button>&nbsp;
                                        <button class="btn btn-secondary"
                                            (click)="modalChangeWindow(modalChange);shuffleHead(i.id,i.head_name)"><i
                                                class="fa fa-refresh" aria-hidden="true"></i></button>&nbsp;

                                        <ul>
                                            <li *ngFor="let data of i.child" class="last">{{data.head_name}}
                                                <button class="btn btn-success"
                                                    (click)="addModalWindow(modalEdit);AddnewHead(i.id,i.head_name)"><i
                                                        class="fa fa-pencil" aria-hidden="true"></i></button>

                                            </li>

                                        </ul>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>



<!-- For Add New Head  -->

<!-- <app-modal-basic #modalLarge [dialogClass]="'modal-sm'"> -->
<ng-template #modalLarge let-modal>
    <div class="modal-header">
        <h4 class="modal-title">General New Head</h4>
        <button type="button" class="close basic-close" (click)="closeBtnClick()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <perfect-scrollbar style="overflow-y: auto;">
            <div class="row">
                <div class="col-12">
                    <div class="form-group input-group">
                        <span class="border-lable-flt">
                            <input type="text" class="form-control" [(ngModel)]="parentCode" id="A_ACHEAD" disabled>
                            <label for="A_ACHEAD">Parent Statement Head<sub class="required">* </sub></label>
                        </span>
                    </div>
                </div>
                <div class="col-12">
                    <div class="form-group input-group">
                        <span class="border-lable-flt">
                            <input type="text" class="form-control" [(ngModel)]="newCode" id="A_ACHEAD" required="">
                            <label for="A_ACHEAD">New Statement Head<sub class="required">* </sub></label>
                        </span>
                    </div>
                </div>
                <div class="col-12">
                    <button class="btn btn-outline-primary btn-sm" (click)="submitNewCode()">Submit</button>
                </div>
            </div>
        </perfect-scrollbar>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-primary btn-sm" #triggerhide
            (click)="closeBtnClick()">Close</button>
    </div>
    <!-- </app-modal-basic> -->
</ng-template>

<!-- For Edit Modal -->
<ng-template #modalEdit let-modal>
    <!-- <app-modal-basic #modalEdit [dialogClass]="'modal-sm'"> -->
    <div class="modal-header">
        <h4 class="modal-title">Edit In Head</h4>
        <button type="button" class="close basic-close" (click)="closeBtnClick()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <perfect-scrollbar style="overflow-y: auto;">
            <div class="row">
                <div class="col-12">
                    <div class="form-group input-group">
                        <span class="border-lable-flt">
                            <input type="text" class="form-control" [(ngModel)]="parentCode" id="A_ACHEAD" disabled>
                            <label for="A_ACHEAD">Current Statement Head Name<sub class="required">* </sub></label>
                        </span>
                    </div>
                </div>
                <div class="col-12">
                    <div class="form-group input-group">
                        <span class="border-lable-flt">
                            <input type="text" class="form-control" [(ngModel)]="newCode1" id="A_ACHEAD" required>
                            <label for="A_ACHEAD">New Statement Head Name<sub class="required">* </sub></label>
                        </span>
                    </div>
                </div>
                <div class="col-12">
                    <button class="btn btn-outline-primary btn-sm" (click)="updateNewCode()">Update</button>
                </div>
            </div>
        </perfect-scrollbar>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-primary btn-sm" #triggerhide
            (click)="closeBtnClick()">Close</button>
    </div>
    <!-- </app-modal-basic> -->
</ng-template>

<!-- For Shuffle SubHead -->

<ng-template #modalChange let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Shuffle Sub Head</h4>
        <button type="button" class="close basic-close" (click)="closeBtnClick()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <perfect-scrollbar style="overflow-y: auto;">
            <div class="row">
                <div class="col-4">
                    <div class="form-group input-group">
                        <span class="border-lable-flt">
                            <input type="text" class="form-control" [(ngModel)]="parentCode" id="A_ACHEAD" disabled>
                            <label for="A_ACHEAD">Current Statement Head Name<sub class="required">* </sub></label>
                        </span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <div class="row mx-5">
                        <div class="col-md-12">
                            <div class="table-responsive">
                                <table class="table table-bordered table-hover compact">
                                    <thead>
                                        <td> Sub Head</td>
                                        <td> Current Position</td>
                                        <td> New Positiom</td>
                                    </thead>
                                    <tbody *ngFor="let data of childArray">
                                        <tr>
                                            <td class="td_center">{{data.head_name}}</td>
                                            <td class="td_center">{{data.position}}</td>
                                            <td class="td_center">
                                                <input type="text" style="text-align:center"
                                                    value="{{data.newPosition==null ?data.position :data.newPosition}}"
                                                    maxlength="8" #position (keyup)="lengthArr($event)"
                                                    (focus)="selectAllContent($event)"
                                                    (change)="getColumnValue(data.id,position.value)"
                                                    (keypress)="($event.charCode >= 48 && $event.charCode < 58)">
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </perfect-scrollbar>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-primary btn-sm" #triggerhide
            (click)="closeBtnClick()">Close</button>
        <button class="btn btn-outline-primary btn-sm" (click)="shuffleCode();closeBtnClick()">Shuffle and
            Update</button>&nbsp;

    </div>
</ng-template>