{"version":3,"sources":["./src/app/theme/utility/day-end/counter-work-day-end/counter-work-day-end-routing.module.ts","./src/app/theme/utility/day-end/counter-work-day-end/counter-work-day-end.component.ts","./src/app/theme/utility/day-end/counter-work-day-end/counter-work-day-end.component.html","./src/app/theme/utility/day-end/counter-work-day-end/counter-work-day-end.module.ts"],"names":[],"mappings":"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","file":"counter-work-day-end-counter-work-day-end-module.js","sourcesContent":["import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\nimport { CounterWorkDayEndComponent } from './counter-work-day-end.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: CounterWorkDayEndComponent,\r\n    data: {\r\n      title: 'Counter Work DayEnd',\r\n      icon: 'icon-home',\r\n      caption: 'lorem ipsum dolor sit amet, consectetur adipisicing elit',\r\n      status: true\r\n    }\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CounterWorkDayEndRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport Swal from 'sweetalert2';\r\nimport { DayEndService } from '../day-end.service';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-counter-work-day-end',\r\n  templateUrl: './counter-work-day-end.component.html',\r\n  styleUrls: ['./counter-work-day-end.component.scss']\r\n})\r\nexport class CounterWorkDayEndComponent implements OnInit {\r\n  dtExportButtonOptions: any = {};\r\n  ngdate: any;\r\n  ngbdate\r\n  systemInfo: any;\r\n  constructor(private _services: DayEndService) { }\r\n\r\n  ngOnInit(): void {\r\n    this._services.getSysparaDetails().subscribe(data => {\r\n      this.systemInfo = data[0];\r\n      console.log(this.systemInfo);\r\n      this.ngdate = moment(this.systemInfo.CURRENT_DATE, 'DD/MM/YYYY').format('YYYY-MM-DD');\r\n      this.ngbdate = this.systemInfo.CURRENT_DATE\r\n    }, err => {\r\n      console.log(err);\r\n    })\r\n  }\r\n\r\n  DayEnd() {\r\n    //get login details\r\n    let user = JSON.parse(localStorage.getItem('user'));\r\n    let flag\r\n    this._services.checkDayHandOverStatus({ date: this.ngbdate, branch_id: user.branchId }).subscribe(data => {\r\n      flag = data.flag\r\n      if (flag == 1) {\r\n        Swal.fire('Info', `Already day handovered for ${this.ngbdate}`, 'info')\r\n      } else {\r\n        //  let current_date = this.ngdate;\r\n        Swal.fire({\r\n          title: 'Are you sure?',\r\n          text: \"Do you want day handover to Admin.\",\r\n          icon: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonColor: '#229954',\r\n          cancelButtonColor: '#d33',\r\n          confirmButtonText: 'Yes, Day End Handover!'\r\n        }).then((result) => {\r\n          if (result.isConfirmed) {\r\n            let obj = {\r\n              date: this.ngdate,\r\n              branch_id: user.branchId,\r\n              user_id: user.id\r\n            }\r\n            //check Is valid today all transaction \r\n            this._services.dayEndHandoverProcess(obj).subscribe(data => {\r\n              this._services.dayHandOver(obj).subscribe(data => {\r\n                Swal.fire('Success', 'Day End Handovered On ' + this.systemInfo.CURRENT_DATE + ' Successfully!', 'success');\r\n              }, err => {\r\n                if (err.error.statusCode == 400) {\r\n                  Swal.fire('Cancelled', err.error.message, 'error');\r\n                }\r\n              })\r\n            }, err => {\r\n              if (err.error.statusCode == 400) {\r\n                Swal.fire('Cancelled', err.error.message, 'error');\r\n              }\r\n            })\r\n          } else if (\r\n            result.dismiss === Swal.DismissReason.cancel\r\n          ) {\r\n            Swal.fire(\r\n              'Cancelled',\r\n              'Your Action is revert',\r\n              'error'\r\n            )\r\n          }\r\n        })\r\n      }\r\n    }, err => {\r\n      console.log(err);\r\n    })\r\n\r\n\r\n  }\r\n}\r\n","<!-- Day End -->\r\n<div class=\"row\">\r\n    <div class=\"col-12\">\r\n        <div class=\"card\">\r\n            <div class=\"card-header\">\r\n                <h5>Day Handover</h5>\r\n            </div>\r\n            <form class=\"form-material\" action=\"javascript:\">\r\n                <div class=\"card-block\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-2\">\r\n                            <div class=\"form-inline\">\r\n                                <div class=\"form-group\">\r\n                                    <div class=\"input-group\">\r\n                                        <input type=\"date\" class=\"form-control\" name=\"ngdate\" [(ngModel)]=\"ngdate\" disabled>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-sm\">\r\n                            <button class=\"btn btn-primary ripple light\" (click)=\"DayEnd()\">Day Handover</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n           \r\n        </div>\r\n    </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { CounterWorkDayEndComponent } from './counter-work-day-end.component';\nimport { CounterWorkDayEndRoutingModule } from './counter-work-day-end-routing.module';\nimport {DataTablesModule} from 'angular-datatables';\nimport { HTTP_INTERCEPTORS } from '@angular/common/http';\nimport { UserAuthInterceptor } from 'src/app/user-auth.interceptor';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    CounterWorkDayEndRoutingModule,\n    DataTablesModule,\n    FormsModule\n \n  ],\n  declarations: [ CounterWorkDayEndComponent],\n  providers:[{\n    provide: HTTP_INTERCEPTORS,\n    useClass: UserAuthInterceptor,\n    multi: true\n  },]\n})\nexport class CounterWorkDayEndModule { }\n"],"sourceRoot":"webpack:///"}